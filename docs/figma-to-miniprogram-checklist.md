# Figma 转小程序快速检查清单

本文档提供快速参考，用于检查 Figma 设计图转小程序页面的每个步骤。

---

## 📋 前期准备检查

- [ ] 获取 Figma 设计图链接
- [ ] 确认设计图基准尺寸（例如：430x932）
- [ ] 记录转换比例（750 / 设计图宽度）
- [ ] 准备好 Figma MCP 工具
- [ ] 微信开发者工具已安装

---

## 🎨 设计图分析检查

- [ ] 记录设计图的画板尺寸
- [ ] 分析页面层级结构（背景层、内容层、交互层）
- [ ] 识别所有需要导出的图片资源
- [ ] 区分文字内容和文字图片（文字应该用代码实现）
- [ ] 记录所有元素的位置和尺寸
- [ ] 记录元素之间的层级关系（z-index）

---

## 📦 资源导出检查

- [ ] 使用 Figma MCP 导出所有图片资源
- [ ] 检查导出的图片格式（PNG/SVG）
- [ ] 检查导出的图片质量
- [ ] 记录导出的文件名（通常是哈希值）
- [ ] 将资源文件临时保存到 `static/design-assets/`

---

## 💻 代码实现检查

### 尺寸转换

- [ ] 使用正确的转换公式：`rpx = px × (750 / 设计图宽度)`
- [ ] 所有尺寸都已转换为 rpx
- [ ] 验证转换后的尺寸是否正确

### 布局实现

- [ ] 使用绝对定位（`position: absolute`）
- [ ] 设置正确的 `top` 和 `left` 值
- [ ] 设置正确的 `width` 和 `height` 值
- [ ] 设置正确的 `z-index` 值

### 文字实现

- [ ] 所有文字都使用 `<text>` 组件
- [ ] 没有使用文字图片
- [ ] 文字内容从配置文件读取
- [ ] 文字样式正确（字体、大小、颜色）

### 图片实现

- [ ] 图片路径从配置文件读取
- [ ] 没有硬编码图片路径
- [ ] 图片 `mode` 属性设置正确
- [ ] 图片尺寸和位置正确

---

## 🔧 布局调整检查

- [ ] 页面在微信开发者工具中正常显示
- [ ] 背景图片完全覆盖，无空隙
- [ ] 所有元素位置与设计图一致
- [ ] 元素层级关系正确，无遮挡问题
- [ ] 适配小程序胶囊按钮区域
- [ ] 底部按钮与底部有足够间距
- [ ] 在不同机型上测试显示效果

---

## ⚙️ 配置化优化检查

### 创建配置文件

- [ ] 创建 `config.ts` 文件
- [ ] 定义 `PageTheme` 接口
- [ ] 创建 `defaultTheme` 配置对象
- [ ] 实现 `getTheme()` 函数

### 配置内容

- [ ] 所有图片路径都在 `images` 配置中
- [ ] 所有文字内容都在 `texts` 配置中
- [ ] 颜色配置（可选）
- [ ] 支持多主题配置（可选）

### 代码更新

- [ ] 模板中使用 `:src="config.images.xxx"`
- [ ] 模板中使用 `{{ config.texts.xxx }}`
- [ ] 删除所有硬编码的路径和文字
- [ ] 在 `onMounted` 中加载配置

---

## 📁 资源整理检查

### 目录结构

- [ ] 创建 `static/pages/页面名/` 目录
- [ ] 将资源文件移动到对应目录
- [ ] 删除 `static/design-assets/` 临时目录

### 文件重命名

- [ ] 使用规范的文件命名（kebab-case）
- [ ] 文件名具有描述性（例如：`bg-main.png`）
- [ ] 删除哈希命名的原始文件
- [ ] 更新配置文件中的路径

### 资源清理

- [ ] 删除未使用的资源文件
- [ ] 删除重复的资源文件
- [ ] 删除无用的代码和函数
- [ ] 检查是否有遗漏的资源

---

## ✅ 质量检查

### 代码质量

- [ ] 无硬编码的图片路径
- [ ] 无硬编码的文字内容
- [ ] 无重复代码
- [ ] 无冗余代码
- [ ] 无未使用的函数或变量
- [ ] 无未使用的导入
- [ ] TypeScript 类型定义完整
- [ ] 注释清晰完整
- [ ] 代码格式规范（使用 Prettier）

### 功能测试

- [ ] 页面正常加载
- [ ] 布局与设计图一致
- [ ] 文字内容正确显示
- [ ] 图片资源正确显示
- [ ] 交互功能正常（点击、输入等）
- [ ] 加载状态正确显示
- [ ] 错误处理正常工作
- [ ] 在不同机型上测试

### 性能检查

- [ ] 图片资源已压缩
- [ ] 页面加载速度快
- [ ] 无内存泄漏
- [ ] 无不必要的网络请求
- [ ] 无性能警告

---

## 📝 文档编写检查

- [ ] 创建页面使用说明（`README.md`）
- [ ] 说明如何修改文字内容
- [ ] 说明如何替换图片资源
- [ ] 说明如何添加新主题
- [ ] 更新资源映射文档（`RESOURCE_MAP.md`）
- [ ] 添加配置文件注释
- [ ] 添加代码注释

---

## 🚀 最终验收检查

### 视觉还原度

- [ ] 布局与设计图 100% 一致
- [ ] 颜色与设计图一致
- [ ] 字体与设计图一致
- [ ] 间距与设计图一致
- [ ] 图片与设计图一致

### 可维护性

- [ ] 文字内容可随时修改
- [ ] 图片资源可轻松替换
- [ ] 代码结构清晰
- [ ] 配置文件完整
- [ ] 文档说明完善

### 可扩展性

- [ ] 支持多主题配置
- [ ] 支持动态切换主题
- [ ] 预留扩展接口
- [ ] 代码易于复用

---

## 📊 完成度评分

| 检查项     | 完成 | 备注 |
| ---------- | ---- | ---- |
| 前期准备   | ☐    |      |
| 设计图分析 | ☐    |      |
| 资源导出   | ☐    |      |
| 代码实现   | ☐    |      |
| 布局调整   | ☐    |      |
| 配置化优化 | ☐    |      |
| 资源整理   | ☐    |      |
| 质量检查   | ☐    |      |
| 文档编写   | ☐    |      |
| 最终验收   | ☐    |      |

**总完成度**: **\_** / 10

---

## 🎯 快速参考

### 尺寸转换公式

```
rpx = px × (750 / 设计图宽度)

示例（设计图宽度 430px）：
100px → 100 × (750 / 430) = 174rpx
200px → 200 × (750 / 430) = 349rpx
```

### 文件命名规范

```
✅ bg-main.png          # 主背景
✅ bg-stars.png         # 星空背景
✅ button-bg.png        # 按钮背景
✅ icon-status.svg      # 状态图标
✅ detail-image-1.png   # 详情图片

❌ 0a490b57...png       # 哈希命名
❌ image1.png           # 不明确
❌ 背景图.png           # 中文命名
```

### 目录结构

```
static/
└── pages/
    └── 页面名/
        ├── bg-main.png
        ├── bg-stars.png
        ├── button-bg.png
        └── ...
```

### 配置文件模板

```typescript
export interface PageTheme {
  name: string;
  images: Record<string, string>;
  texts: Record<string, string>;
}

export const defaultTheme: PageTheme = {
  name: '默认主题',
  images: {
    background: '../../static/pages/页面名/bg.png',
  },
  texts: {
    title: '标题文字',
  },
};

export function getTheme(name = 'default'): PageTheme {
  return themes[name] || defaultTheme;
}
```

---

## ⚠️ 常见错误提醒

### 必须避免

- ❌ 使用文字图片代替文字组件
- ❌ 硬编码图片路径和文字内容
- ❌ 使用哈希值命名资源文件
- ❌ 资源文件散落在各处
- ❌ 缺少配置文件和文档
- ❌ 有重复或冗余代码

### 必须做到

- ✅ 所有文字都用代码实现
- ✅ 所有配置都集中管理
- ✅ 资源文件规范命名
- ✅ 按页面分类存放资源
- ✅ 编写完整的文档
- ✅ 代码质量检查通过

---

**使用说明**：

1. 每完成一个步骤，勾选对应的检查项
2. 确保所有检查项都已完成
3. 最终验收通过后才能提交代码

**文档版本**: v1.0  
**最后更新**: 2025-01-15
